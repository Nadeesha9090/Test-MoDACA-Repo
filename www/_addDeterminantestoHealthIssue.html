<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title></title>
 
  	 <link rel="stylesheet" href="jquery/jquery.mobile-1.4.2.min.css">
	 <link rel="stylesheet" href="css/table.css">
	 <script type="text/javascript" src="cordova.js"></script>
	 <script type="text/javascript" src="jquery/jquery-1.9.1.min.js"></script>
	 <script type="text/javascript" src="jquery/jquery.mobile-1.4.2.min.js"></script>
	 <script type="text/javascript" src="js/register.js"></script> 
	 <script type="text/javascript" src="js/iscroll.js"></script> 
 
 
 <script type="text/javascript" charset="utf-8">
        function onDeviceReady() { 
		 persistData(healthIssue,determinante);
		}
        function saveLocal(form){
            if (window.localStorage) {
                
                var fhealthIssue = form.healthIssue.value,
                    fdeterminante= form.determinante.value;
                        
                  
                        
                        
                alert("hi");
                
                
                var highscores = [{"healthIssue": fhealthIssue,
                                   "determinante":fdeterminante}];
               
                           
                           
                           
                localStorage.setItem("highscores",JSON.stringify(highscores));
               
                alert("The data has been stored successfully.");
            } else {
                alert("Your Browser does not support LocalStorage.");
            }
        }

        function readLocal(){
            if (window.localStorage) {
            

                //Get the highscores object
                var scores = localStorage.getItem("highscores");
                scores = JSON.parse(scores);
                for (i=0;i<scores.length;i++){
                    
             
                    
                    var text = "healthIssue :"+scores[i].healthIssue +"<br>"+
                                "determinante"+scores[i].determinante+"<br>" +
                                '<Button value="DELETE" onclick="'+scores.splice(i, 0)+'><>/Button>';
                    
                    
                            var tbodyx = document.getElementsByTagName("tbody");
                            var tr=document.createElement("TR");
                            var td=document.createElement("TD");
                            td.innerHTML = text;
                            tr.appendChild(td);
                            tbody.appendChild(tr);
                       
                 
                }
            }
        }
	</script>
</head>
<body>

	<div data-role="page" id="page1">
			
		
		<!--/header-->	
		<div data-role="header" data-position="inline" data-theme="b">
		
			<a href="#" data-icon="back" data-rel="back" title="Go back">Back</a>
			<h1>Add Determinantes to Health Issue</h1>
			<a href="index.html" data-icon="home">Menu</a>
			
		</div>
		<!--/header-->
		
		<!--Modufy-->
		<div id="wrapper">
			 <form id="userInput" action ="" method="GET"> 
				<div data-role="content">
					
					<div data-role="fieldcontain">
							<label  class="select">Select Health Issue</label>
							<select class="inputClass" id="healthIssue">
								<option value="Issue 1">Issue 1</option>
								<option value="Issue 2">Issue 2</option>
								<option value="Issue 3">Issue 3</option>
								<option value="Issue 4">Issue 4</option>
							</select>
					</div>
					
					<div data-role="fieldcontain">
							<label for="textarea">Determinante:</label>
							<textarea cols="40" rows="30" name="determinante" class="inputClass" id="determinante"></textarea>
					</div>
					
					
					
					<input class="buttonClass" type="button" value="Insert Data" onclick="saveLocal(this.form);">
					
					
				 </div>
			 </form>
		 </div>

        <input class="buttonClass" type="button" value="get Data" onclick="readLocal();">
		

		<table border="1">
            <tbody id="tbody">
                
            </tbody>
        </table>
		
	</div>

	
</body>
</html>
