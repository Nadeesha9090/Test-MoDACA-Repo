<!DOCTYPE html>
<html>
<head>
	<title>Household Profile DB storage</title>
	
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no,
                                       initial-scale=1, maximum-scale=1,
                                       minimum-scale=1,width=device-width" />
    
	
	 <link rel="stylesheet" href="jquery/jquery.mobile-1.4.2.min.css">
	 <link rel="stylesheet" href="css/table.css">
   
	 <script type="text/javascript" src="cordova.js"></script>
	 <script type="text/javascript" src="jquery/jquery-1.9.1.min.js"></script>
	 <script type="text/javascript" src="jquery/jquery.mobile-1.4.2.min.js"></script>
	 
	 <script type="text/javascript" src="js/iscroll.js"></script> 
	  
	<script type="text/javascript" charset="utf-8">
        function onDeviceReady() { 
		 persistData(homeId,name,age,gender,occupation,education,primaryHealthIssue,diseases,sleepHours,exerciseHours,notes);
		}
        function saveLocal(form){
            if (window.localStorage) {
                
                var fhomeId = form.homeId.value,
                    fname = form.name.value,
                    fage = form.age.value,
                    fgender= form.gender.value,
                    foccupation = form.occupation.value,
                    feducation = form.education.value,
                    fprimaryHealthIssue = form.primaryHealthIssue.value,
                    fdiseases = form.diseases.value,
                    fsleepHours = form.sleepHours.value,
                    fexerciseHours = form.exerciseHours.value,
                    fnotes = form.notes.value;
                        
                  
                        
                        
                alert("hi");
                
                
                var highscores = [{"homeId": fhomeId,
                                   "name":fname,
                                   "age":fage,
                                   "gender":fgender,
                                   "occupation":foccupation,
                                   "education":feducation,
                                   "primaryHealthIssue":fprimaryHealthIssue,
                                   "diseases":fdiseases,
                                   "sleepHours":fsleepHours,
                                   "exerciseHours":fexerciseHours,
                                   "notes":fnotes}];
               
                           
                           
                           
                localStorage.setItem("highscores",JSON.stringify(highscores));
               
                alert("The data has been stored successfully.");
            } else {
                alert("Your Browser does not support LocalStorage.");
            }
        }

        function readLocal(){
            if (window.localStorage) {
            

                //Get the highscores object
                var scores = localStorage.getItem("highscores");
                scores = JSON.parse(scores);
                for (i=0;i<scores.length;i++){
                    
             
                    
                    var text = "homeId :"+scores[i].homeId +"<br>"+
                                "name:"+ scores[i].name+"<br>"+
                                "age"+scores[i].age +"<br>"+
                                "gender"+scores[i].gender +"<br>"+
                                "occupation"+scores[i].occupation+"<br>" +
                                "education"+scores[i].education+"<br>" +
                                "primaryHealthIssue"+scores[i].primaryHealthIssue+"<br>" +
                                "diseases"+scores[i].diseases+"<br>" +
                                "sleepHours"+scores[i].sleepHours+"<br>" +
                                "exerciseHours"+scores[i].exerciseHours+"<br>" +
                                "notes"+scores[i].notes+"<br>" +
                                "notes"+scores[i].notes+"<br>" +
                                '<Button value="DELETE" onclick="'+scores.splice(i, 0)+'><>/Button>';
                    
                    
                            var tbodyx = document.getElementsByTagName("tbody");
                            var tr=document.createElement("TR");
                            var td=document.createElement("TD");
                            td.innerHTML = text;
                            tr.appendChild(td);
                            tbody.appendChild(tr);
                       
                 
                }
            }
        }
	</script>

</head>

<body>
    <div data-role="page" id="page1">
		<!--/header-->	
		<div data-role="header" data-position="inline" data-theme="b">
		
			<a href="#" data-icon="back" data-rel="back" title="Go back">Back</a>
			<h1>Family Member</h1>
			<a href="index.html" data-icon="home">Menu</a>
			
		</div>
		<!--/header-->
        
		<div id="wrapper">
			 <form id="userInput" action ="" method="GET"> 
				<div data-role="content">
					
					
					<div data-role="fieldcontain">
						<label > Home ID </label> 
						<input class="inputClass" id="homeId" placeholder="H0001" value="" data-mini="true" type="text">
					</div>
					
					<div data-role="fieldcontain">
						<label > Name </label> 
						<input class="inputClass" id="name" placeholder="Nadeesha" value="" data-mini="true" type="text">
					</div>
					
					<div  data-role="fieldcontain">
						<label > Age </label> 
						<input class="inputClass" id="age" placeholder="23" value="" type="text">
					</div>
					
					<fieldset data-role="fieldcontain">
					<legend>Gender</legend>
						<input type="radio" name="gender" id="radio-choice-1" value="Male" checked="checked" />
						<label for="radio-choice-1">Male</label>

						<input type="radio" name="gender" id="radio-choice-2" value="Female"  />
						<label for="radio-choice-2">Female</label>
					</fieldset>	

					<div  data-role="fieldcontain">
						<label > Occupaton </label> 
						<input class="inputClass" id="occupation" placeholder="teacher" value="" type="text">
					</div>

					<div  data-role="fieldcontain">
						<label > Education </label> 
						<input class="inputClass" id="education" placeholder="University" value="" type="text">
					</div>
					
					
					<div data-role="fieldcontain">
							<label  class="select">Primary Health issue</label>
							<select class="inputClass" id="primaryHealthIssue">
								<option value="Issue 1">Issue 1</option>
								<option value="Issue 2">Issue 2</option>
								<option value="Issue 3">Issue 3</option>
								<option value="Issue 4">Issue 4</option>
							</select>
					</div>
					
					<div data-role="fieldcontain">
							<label for="textarea">Diseases:</label>
							<textarea cols="40" rows="30" name="diseases" class="inputClass" id="diseases"></textarea>
					</div>
					
					
					<div  data-role="fieldcontain">
						<label > Sleep hours </label> 
						<input class="inputClass" id="sleepHours" placeholder="7" value="" type="text">
						
						<label > Exercise hours</label> 
						<input class="inputClass" id="exerciseHours" placeholder="3" value="" type="text">
					</div>
					
					<div data-role="fieldcontain">
							<label for="textarea">Notes:</label>
							<textarea cols="40" rows="30" name="notes" class="inputClass" id="note"></textarea>
					</div>
					
					<!--- /modify-->
					
					<input class="buttonClass" type="button" value="Insert Data" onclick="saveLocal(this.form);">
					
				 </div>
			 </form>
		 </div>

        <input class="buttonClass" type="button" value="get Data" onclick="readLocal();">
      <!--  <p id="dhomeId"></p>
        <p id="downer"></p>
        <p id="dgramaND"></p>
        <p id="dcontactNo"></p>
        <p id="daddress"></p>
        <p id="drace"></p>-->
        
        
      
        <table border="1">
            <tbody id="tbody">
                <tr><td>test1</td></tr>
                <tr><td>test2</td></tr>
            </tbody>
        </table>
        


	 
	</div>


</body>
</html>
<!-- ********************* HMTL5 Storage end *********************** -->